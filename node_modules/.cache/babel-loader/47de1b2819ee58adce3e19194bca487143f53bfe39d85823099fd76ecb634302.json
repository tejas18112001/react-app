{"ast":null,"code":"import Header from\"./Header\";import{Link,useNavigate}from'react-router-dom';import{useEffect,useState}from\"react\";import axios from\"axios\";import catArray from\"./categoriesType\";import API_URL from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AddProduct(){const navigate=useNavigate();const[pname,setpname]=useState('');const[pdesc,setpdesc]=useState('');const[pprice,setpprice]=useState('');const[ptype,setptype]=useState('');const[pimage,setpimage]=useState('');useEffect(()=>{if(!localStorage.getItem('token')){navigate('/login');}},[]);const handleApi=()=>{const formData=new FormData();formData.append('pname',pname);formData.append('pdesc',pdesc);formData.append('pprice',pprice);formData.append('ptype',ptype);formData.append('pimage',pimage);formData.append('userId',localStorage.getItem('userId'));const url=API_URL+'/add-product';axios.post(url,formData).then(res=>{if(res.data.message){alert(res.data.message);navigate('/');}}).catch(err=>{// console.log(\"error happen\" , err) ;\nalert('Server Error',err);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"ADD YOUR PRODUCT\"}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:pname,onChange:e=>setpname(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:pdesc,onChange:e=>setpdesc(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:pprice,onChange:e=>setpprice(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\" Product Categiory\"}),/*#__PURE__*/_jsx(\"select\",{className:\"form-control\",value:ptype,onChange:e=>setptype(e.target.value),children:catArray.map((item,index)=>{return/*#__PURE__*/_jsx(\"option\",{children:item},index);})}),/*#__PURE__*/_jsx(\"label\",{children:\" Select Product Image\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"file\",onChange:e=>{setpimage(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn  btn-primary mt-3\",onClick:handleApi,children:\"SUBMIT\"})]})]});}export default AddProduct;","map":{"version":3,"names":["Header","Link","useNavigate","useEffect","useState","axios","catArray","API_URL","jsx","_jsx","jsxs","_jsxs","AddProduct","navigate","pname","setpname","pdesc","setpdesc","pprice","setpprice","ptype","setptype","pimage","setpimage","localStorage","getItem","handleApi","formData","FormData","append","url","post","then","res","data","message","alert","catch","err","children","className","type","value","onChange","e","target","map","item","index","files","onClick"],"sources":["D:/clones/BigBazar/react-app/src/components/AddProduct.jsx"],"sourcesContent":["import Header from \"./Header\";\r\nimport {Link , useNavigate} from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport catArray from \"./categoriesType\";\r\nimport API_URL from \"../constants\";\r\nfunction AddProduct () {\r\n    const navigate = useNavigate() ;\r\n    \r\n    const [pname , setpname] = useState('') ;\r\n    const [pdesc , setpdesc] = useState('') ;\r\n    const [pprice , setpprice] = useState('') ;\r\n    const [ptype , setptype] = useState('') ;\r\n    const [pimage , setpimage] = useState('') ;\r\n\r\n    useEffect(()=>{\r\n              if(!localStorage.getItem('token')) {\r\n                 navigate('/login') ;\r\n              }\r\n    } , []) ;\r\n\r\n\r\n    const handleApi = () =>{\r\n   \r\n         const formData = new FormData() ;\r\n         formData.append('pname' , pname) ;\r\n         formData.append('pdesc' , pdesc) ;\r\n         formData.append('pprice' , pprice) ;\r\n         formData.append('ptype' , ptype) ;\r\n         formData.append('pimage' , pimage) ;\r\n         formData.append('userId' , localStorage.getItem('userId')) ;\r\n         const url = API_URL+'/add-product' ;\r\n         axios.post(url ,formData)\r\n         .then((res) => {\r\n            \r\n             if(res.data.message) {\r\n                 alert(res.data.message) ;\r\n                 navigate('/') ;\r\n             }\r\n         })\r\n         .catch((err) => {\r\n            // console.log(\"error happen\" , err) ;\r\n            alert('Server Error' , err) ;\r\n         })\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <div className=\"p-3\">\r\n\r\n            <h2>ADD YOUR PRODUCT</h2>\r\n           \r\n            <label> Product Name</label>\r\n            <input type = 'text'className=\"form-control\" value = {pname}\r\n            onChange={(e) => setpname(e.target.value)}/>\r\n\r\n            <label> Product Description</label>\r\n            <input type = 'text'className=\"form-control\"  value = {pdesc}\r\n              onChange={(e) => setpdesc(e.target.value)}/>\r\n\r\n            <label> Product Price</label>\r\n            <input type = 'text' className=\"form-control\"  value = {pprice}\r\n             onChange={(e) => setpprice(e.target.value)}/>\r\n\r\n            <label> Product Categiory</label>\r\n\r\n            <select className=\"form-control\"  value = {ptype}\r\n              onChange={(e) => setptype(e.target.value)}>\r\n                {\r\n                    catArray.map((item, index)=>{\r\n                        return(\r\n                            <option key = {index}>{item}</option>\r\n                        )\r\n                      \r\n                    })\r\n\r\n                }\r\n               \r\n            </select>\r\n            <label> Select Product Image</label>\r\n            <input  className=\"form-control\" type= 'file' \r\n             onChange={(e) => {\r\n                  setpimage(e.target.files[0]) ;\r\n             }}/>\r\n\r\n            <button className=\"btn  btn-primary mt-3\" onClick={handleApi}>SUBMIT</button>\r\n            \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddProduct ;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}