{"ast":null,"code":"import Header from'./Header';import{Link,useNavigate}from'react-router-dom';import{useState}from'react';import axios from'axios';import API_URL from'../constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[username,setUsername]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();const handleapi=()=>{const data={username,password};const url=API_URL+\"/login\";axios.post(url,data).then(res=>{if(res.data.message){alert(res.data.message);if(res.data.token){localStorage.setItem('token',res.data.token);localStorage.setItem('userId',res.data.userId);navigate('/');}}}).catch(err=>{alert(\"An error occurred. Please try again later.\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 m-3\",children:[\"Welcome to Login Page\",/*#__PURE__*/_jsx(\"br\",{}),\"Username\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),\"Password\",/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleapi,children:\"Login \"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]})]});}export default Login;","map":{"version":3,"names":["Header","Link","useNavigate","useState","axios","API_URL","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","navigate","handleapi","data","url","post","then","res","message","alert","token","localStorage","setItem","userId","catch","err","children","className","type","value","onChange","e","target","onClick","to"],"sources":["D:/clones/BigBazar/react-app/src/components/Login.jsx"],"sourcesContent":["\r\nimport Header from './Header'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useState } from 'react';\r\nimport axios from 'axios';\r\nimport API_URL from '../constants';\r\n\r\n\r\n\r\nfunction Login() {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const navigate = useNavigate();\r\n    const handleapi = () => {\r\n       \r\n        const data = { username, password };\r\n        const url = API_URL+\"/login\";\r\n       \r\n        axios.post(url, data)\r\n            .then((res) => {\r\n                \r\n                if (res.data.message) {\r\n                    alert(res.data.message);\r\n                    if(res.data.token){\r\n                        localStorage.setItem('token' , res.data.token) ;\r\n                        localStorage.setItem('userId' , res.data.userId) ;\r\n                        navigate('/') ;\r\n                    }\r\n                }\r\n                \r\n            })\r\n            .catch((err) => {\r\n                \r\n                \r\n                alert(\"An error occurred. Please try again later.\");\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            \r\n            <Header /> \r\n            <div className='p-3 m-3'>\r\n            Welcome to Login Page\r\n            <br></br>\r\n            Username\r\n            <input className='form-control' type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} />\r\n            <br></br>\r\n            Password\r\n            <input className='form-control' type=\"text\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            <br></br>\r\n            <button onClick={handleapi}>Login </button>\r\n            <Link to=\"/signup\">Signup</Link>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"AACA,MAAO,CAAAA,MAAM,KAAM,UAAU,CAC7B,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAInC,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAY,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAc,SAAS,CAAGA,CAAA,GAAM,CAEpB,KAAM,CAAAC,IAAI,CAAG,CAAEN,QAAQ,CAAEE,QAAS,CAAC,CACnC,KAAM,CAAAK,GAAG,CAAGb,OAAO,CAAC,QAAQ,CAE5BD,KAAK,CAACe,IAAI,CAACD,GAAG,CAAED,IAAI,CAAC,CAChBG,IAAI,CAAEC,GAAG,EAAK,CAEX,GAAIA,GAAG,CAACJ,IAAI,CAACK,OAAO,CAAE,CAClBC,KAAK,CAACF,GAAG,CAACJ,IAAI,CAACK,OAAO,CAAC,CACvB,GAAGD,GAAG,CAACJ,IAAI,CAACO,KAAK,CAAC,CACdC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAGL,GAAG,CAACJ,IAAI,CAACO,KAAK,CAAC,CAC9CC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAGL,GAAG,CAACJ,IAAI,CAACU,MAAM,CAAC,CAChDZ,QAAQ,CAAC,GAAG,CAAC,CACjB,CACJ,CAEJ,CAAC,CAAC,CACDa,KAAK,CAAEC,GAAG,EAAK,CAGZN,KAAK,CAAC,4CAA4C,CAAC,CACvD,CAAC,CAAC,CACV,CAAC,CAED,mBACId,KAAA,QAAAqB,QAAA,eAEIvB,IAAA,CAACP,MAAM,GAAE,CAAC,cACVS,KAAA,QAAKsB,SAAS,CAAC,SAAS,CAAAD,QAAA,EAAC,uBAEzB,cAAAvB,IAAA,QAAQ,CAAC,WAET,cAAAA,IAAA,UAAOwB,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEtB,QAAS,CAACuB,QAAQ,CAAGC,CAAC,EAAKvB,WAAW,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC7G1B,IAAA,QAAQ,CAAC,WAET,cAAAA,IAAA,UAAOwB,SAAS,CAAC,cAAc,CAACC,IAAI,CAAC,MAAM,CAACC,KAAK,CAAEpB,QAAS,CAACqB,QAAQ,CAAGC,CAAC,EAAKrB,WAAW,CAACqB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC7G1B,IAAA,QAAQ,CAAC,cACTA,IAAA,WAAQ8B,OAAO,CAAErB,SAAU,CAAAc,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC3CvB,IAAA,CAACN,IAAI,EAACqC,EAAE,CAAC,SAAS,CAAAR,QAAA,CAAC,QAAM,CAAM,CAAC,EAE3B,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAApB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}