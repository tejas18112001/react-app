{"ast":null,"code":"import Header from\"./Header\";import{Link,useNavigate}from'react-router-dom';import{useEffect,useState}from\"react\";import axios from\"axios\";import Categories from\"./categories\";import{FaHeart}from\"react-icons/fa\";import'./Home.css';import API_URL from\"../constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LikeProducts(props){const navigate=useNavigate();const[products,setproducts]=useState([]);const[cproducts,setcproducts]=useState([]);const[search,setsearch]=useState('');useEffect(()=>{const userId=localStorage.getItem('userId');const url=API_URL+'/get-likeProducts:'+userId;axios.get(url).then(res=>{if(res.data.likeProducts){console.log(res.data.likeProducts);setproducts(res.data.likeProducts);}}).catch(err=>{console.log(err);alert('server error');});},[]);const handlesearch=value=>{setsearch(value);};const handlesearchbtn=()=>{//   console.log(\"products\" ,products) ;\nlet searchProducts=products.filter(item=>{//   console.log(item) ;\nif(item.pname.toLowerCase().includes(search.toLowerCase())||item.pdesc.toLowerCase().includes(search.toLowerCase())||item.ptype.toLowerCase().includes(search.toLowerCase())){return item;}});setcproducts(searchProducts);};const handleCategory=value=>{let searchProducts=products.filter(item=>{if(item.ptype.toLowerCase()==value.toLowerCase()){return item;}});setcproducts(searchProducts);};const handleLike=value=>{const userId=localStorage.getItem('userId');const productId=value;const data={userId,productId};const url=API_URL+\"/like-products\";axios.post(url,data).then(res=>{console.log(res);}).catch(err=>{alert(\"An error occurred. Please try again later.\");});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{search:search,handlesearch:handlesearch,handlesearchbtn:handlesearchbtn}),/*#__PURE__*/_jsx(Categories,{handleCategory:handleCategory}),cproducts&&cproducts.length>0?/*#__PURE__*/_jsx(\"h5\",{children:\"SEARCH PRODUCTS:\"}):/*#__PURE__*/_jsx(\"h5\",{children:\"NO PRODUCT FOUND\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center flex-wrap\",children:products&&products.length>0&&cproducts.map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"card m-3\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"400px\",height:\"200px\",src:API_URL+'/'+item.pimage}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-2\",children:[item.pname,\" | \",item.ptype]}),/*#__PURE__*/_jsx(\"p\",{className:\"m-2 text-primary\",children:item.pdesc}),/*#__PURE__*/_jsx(\"h3\",{className:\"m-2 text-danger\",children:item.pprice})]},item._id);})}),/*#__PURE__*/_jsx(\"h5\",{children:\"ALL PRODUCTS:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center flex-wrap\",children:products&&products.length>0&&products.map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"card m-3\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"400px\",height:\"200px\",src:API_URL+'/'+item.pimage}),/*#__PURE__*/_jsx(\"div\",{className:\"icon-con\",onClick:()=>handleLike(item._id),children:/*#__PURE__*/_jsx(FaHeart,{className:\"icons\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-2\",children:[item.pname,\" | \",item.ptype]}),/*#__PURE__*/_jsx(\"p\",{className:\"m-2 text-primary\",children:item.pdesc}),/*#__PURE__*/_jsx(\"h3\",{className:\"m-2 text-danger\",children:item.pprice})]},item._id);})})]});}export default LikeProducts;","map":{"version":3,"names":["Header","Link","useNavigate","useEffect","useState","axios","Categories","FaHeart","API_URL","jsx","_jsx","jsxs","_jsxs","LikeProducts","props","navigate","products","setproducts","cproducts","setcproducts","search","setsearch","userId","localStorage","getItem","url","get","then","res","data","likeProducts","console","log","catch","err","alert","handlesearch","value","handlesearchbtn","searchProducts","filter","item","pname","toLowerCase","includes","pdesc","ptype","handleCategory","handleLike","productId","post","children","length","className","map","index","width","height","src","pimage","pprice","_id","onClick"],"sources":["D:/clones/BigBazar/react-app/src/components/LikeProducts.jsx"],"sourcesContent":["\r\nimport Header from \"./Header\";\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Categories from \"./categories\";\r\nimport { FaHeart } from \"react-icons/fa\";\r\nimport './Home.css' ;\r\nimport API_URL from \"../constants\";\r\n\r\nfunction LikeProducts(props) {\r\n    \r\n    const navigate = useNavigate();\r\n    const [products, setproducts] = useState([]);\r\n    const [cproducts, setcproducts] = useState([]);\r\n    const [search, setsearch] = useState('');\r\n    \r\n   \r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const userId = localStorage.getItem('userId') ;\r\n        const url = API_URL+'/get-likeProducts:'+userId;\r\n        axios.get(url)\r\n            .then((res) => {\r\n\r\n                if (res.data.likeProducts) {\r\n                    console.log(res.data.likeProducts) ;\r\n                    setproducts(res.data.likeProducts);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n                alert('server error');\r\n            })\r\n    }, []) ;\r\n\r\n\r\n\r\n    const handlesearch = (value) => {\r\n\r\n        setsearch(value);\r\n    }\r\n\r\n    const handlesearchbtn = () => {\r\n        //   console.log(\"products\" ,products) ;\r\n        let searchProducts = products.filter((item) => {\r\n            //   console.log(item) ;\r\n            if (item.pname.toLowerCase().includes(search.toLowerCase()) ||\r\n                item.pdesc.toLowerCase().includes(search.toLowerCase()) ||\r\n                item.ptype.toLowerCase().includes(search.toLowerCase())) {\r\n                return item;\r\n            }\r\n        })\r\n\r\n        setcproducts(searchProducts);\r\n    }\r\n\r\n\r\n    const handleCategory = (value) => {\r\n        \r\n        let searchProducts = products.filter((item) => {\r\n            \r\n            if (item.ptype.toLowerCase() == (value.toLowerCase())) {\r\n                return item;\r\n            }\r\n        })\r\n\r\n        setcproducts(searchProducts);\r\n    }\r\n\r\n   \r\n    const handleLike = (value) => {\r\n        const userId  = localStorage.getItem('userId');\r\n        const productId = value ;\r\n        \r\n        const data = { userId, productId };\r\n        const url = API_URL+\"/like-products\";\r\n        axios.post(url, data)\r\n            .then((res) => {\r\n                 console.log(res) ;\r\n                 \r\n                \r\n            })\r\n            .catch((err) => {\r\n               alert(\"An error occurred. Please try again later.\");\r\n    });\r\n        \r\n }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Header search={search} handlesearch={handlesearch} handlesearchbtn={handlesearchbtn} />\r\n            <Categories handleCategory={handleCategory} />\r\n             \r\n            {\r\n                cproducts && cproducts.length > 0 ?\r\n                <h5>SEARCH PRODUCTS:</h5> :\r\n                <h5>NO PRODUCT FOUND</h5>\r\n\r\n            }\r\n            <div className=\"d-flex justify-content-center flex-wrap\">\r\n                {\r\n                    products && products.length > 0 &&\r\n                    cproducts.map((item, index) => {\r\n                        return (\r\n                            <div key={item._id} className=\"card m-3\">\r\n                                <img width=\"400px\" height=\"200px\" src={API_URL+'/' + item.pimage}></img>\r\n                                <p className=\"m-2\">{item.pname} | {item.ptype}</p>\r\n                                <p className=\"m-2 text-primary\">{item.pdesc}</p>\r\n                                <h3 className=\"m-2 text-danger\">{item.pprice}</h3>\r\n                            </div>\r\n\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n            <h5>ALL PRODUCTS:</h5>\r\n            <div className=\"d-flex justify-content-center flex-wrap\">\r\n                {\r\n                    products && products.length > 0 &&\r\n                    products.map((item, index) => {\r\n                        return (\r\n                            <div key={item._id} className=\"card m-3\">\r\n                                <img width=\"400px\" height=\"200px\" src={API_URL+'/' + item.pimage}></img>\r\n                                <div className=\"icon-con\" onClick={()=>handleLike(item._id)}>\r\n                                    <FaHeart className=\"icons\" />\r\n                                </div>\r\n                                <p className=\"m-2\">{item.pname} | {item.ptype}</p>\r\n                                <p className=\"m-2 text-primary\">{item.pdesc}</p>\r\n                                <h3 className=\"m-2 text-danger\">{item.pprice}</h3>\r\n                            </div>\r\n\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n             \r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default LikeProducts ;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}